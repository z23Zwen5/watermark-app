# 版本历史 Version History

## v1.1 - 性能优化版本 ⚡ (最新版本)
**发布日期**: 2024年

### 🚀 重大性能提升
- **像素操作优化**: 使用numpy替代逐像素处理，性能提升**30倍以上**
- **并行处理**: 支持多核CPU并行处理，进一步提升批量处理速度
- **智能缓存**: 水印预处理缓存，避免重复计算
- **实时进度**: 添加进度条和处理状态显示

### 📊 性能测试结果
| 测试场景 | 性能提升 | 时间节省 |
|---------|---------|---------|
| 小批量高清图片 (3张 1920x1080) | 30.67倍 | 96.7% |
| 中批量标清图片 (5张 1280x720) | 28.34倍 | 96.5% |
| 4K图片 (2张 3840x2160) | 30.79倍 | 96.8% |
| **总体性能** | **30.35倍** | **96.7%** |

### ✨ 新功能
- **性能选项**: 可选择启用/禁用并行处理
- **处理状态**: 实时显示处理进度和剩余时间
- **错误处理**: 更完善的异常处理和错误提示
- **UI优化**: 更现代化的界面设计

### 🔧 技术改进
- 使用numpy进行向量化像素操作
- ThreadPoolExecutor实现并行处理
- 智能水印缓存机制
- 非阻塞UI设计（多线程处理）

### 📦 文件信息
- **文件名**: `watermark_app_optimized.py`
- **依赖**: 新增numpy依赖
- **兼容性**: 完全向后兼容v1.0配置文件

---

## v1.0 - 路径记忆版本 (已打包)
**发布日期**: 2024年

### ✨ 新功能
- **智能路径记忆**: 自动记住水印文件夹和图片文件夹路径
- **配置持久化**: 使用JSON文件保存用户偏好设置
- **自动定位**: 文件对话框自动定位到上次使用的位置

### 🔧 核心功能
- 批量添加透明水印
- 水印透明度可调 (0-100%)
- 水印拉伸选项
- 自动适配图片尺寸
- 现代化UI设计

### 📦 打包信息
- **文件名**: `WatermarkApp_v1.0.exe`
- **大小**: ~25MB
- **图标**: ✅ 已包含
- **依赖**: 已打包所有必要库

### ⚠️ 性能限制
- 使用逐像素处理，处理大图片较慢
- 单线程处理，无法利用多核优势

---

## v0.x - 基础版本
### 基础功能
- 基本水印添加功能
- 简单的文件选择
- 基础UI界面

---

## 🎯 下一版本计划 (v1.2)
- **GPU加速**: 考虑使用OpenCV GPU功能
- **批处理优化**: 更智能的内存管理
- **格式支持**: 支持更多图片格式
- **预览功能**: 添加水印效果预览 